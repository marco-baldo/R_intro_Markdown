---
title: "Radar Chart in Markdown"
author: "Marco"
date: "2023-06-19"
output:
  html_document:
    df_print: paged
  pdf_document: default
  word_document: default
---

# Script for a Radar Chart example with R

---------------------------------------------
Markdown is an **easy to use** format for writing reports. It resembles what you naturally write every time you compose an email. In fact, you may have already used markdown *without realizing it*. These websites all rely on markdown formatting.
In case word is not working use *tinytex::install_tinytex()* before to start.

* [Github](www.github.com)

* [StackOverflow](www.stackoverflow.com)

* [Reddit](www.reddit.com)

eval = TRUE evaluate the script

echo = FALSE means only the result shown

message = FALSE remove the messages from the report

warnings = FALSE remove the warning messages
---------------------------------------------


```{r setup, include=FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(eval=FALSE, echo = TRUE, message = FALSE, warning = FALSE)

library(fmsb)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(scales)
#library(ggradar)

library(fields)
library(tidyr)
library(cowplot)
library(dplyr)
library(purrr)
library(readr)

getwd()
```

# R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

Create Data - To let the radar chart work properly you need to specify maximum, minumum and the value of the variable. [For example](https://www.statology.org/radar-chart-in-r/):

```{r, eval = TRUE, echo = TRUE, message=FALSE, warning=FALSE}
df <- data.frame(Mon=c(100, 0, 34),
                 Tue=c(100, 0, 48),
                 Wed=c(100, 0, 58),
                 Thu=c(100, 0, 67),
                 Fri=c(100, 0, 55),
                 Sat=c(100, 0, 29),
                 Sun=c(100, 0, 18))

#view data
df

# Once the data is in this format, we can use the radarchart() function from the 
# fmsb library to create a basic radar chart:


radarchart(df)

```
Customizing Radar Charts in R

We can customize the radar chart by using the following arguments:
  
* pcol: Line color
* pfcol: Fill color
* plwd: Line width
* cglcol: Net color
* cglty: Net line type
* axislabcol: Axis label color
* caxislabels: Vector of axis labels to display
* cglwd: Net width
* vlcex: Group labels size

Here an example from the previous data frame (NB for radar chart you need always the data.frame format):

```{r, eval = TRUE, echo = TRUE, message=FALSE, warning=FALSE}
radarchart(df,
           axistype=1, 
           pcol='pink',
           pfcol=rgb(0.9,0.2,0.5,0.3),
           plwd=3, 
           cglcol='grey',
           cglty=1,
           axislabcol='grey',
           cglwd=0.6,
           vlcex=1.1,
           title='Customers per Day'
)

```

# Second Part

Doing the same but with an average or threshold line - can be useful also for other analysis
[Example](https://stackoverflow.com/questions/50353923/generate-radar-charts-with-ggplot2)


```{r, eval = TRUE, echo = TRUE, message=FALSE, warning=FALSE}
data <- read.csv("C:/_R/R_visual_radar/Radar_chart/data.csv")
str(data)

# data <- data[,2:5]
# str(data)


ggplot(data=data,  aes(x=X2, y=Count, group=X3, colour=X3)) + 
  geom_point(size=5) + 
  geom_line() + 
  xlab("Decils") + 
  ylab("% difference in nÂº Pk") + 
  ylim(-50,25) + ggtitle("CL")  + 
  geom_hline(aes(yintercept=0), lwd=1, lty=2) + 
  scale_x_discrete(limits=c("DC1","DC2","DC3","DC4","DC5","DC6","DC7","DC8","DC9","DC10"))

```






